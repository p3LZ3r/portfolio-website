/* Viewport Animation System CSS */

/* CSS Variables for animation customization */
:root {
  --va-duration: 600ms;
  --va-delay: 0ms;
  --va-easing: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --va-translate: 16px;
  --va-scale: 0.9;
}

/* Base animation states - before animation */
.intersection-slide-up {
  opacity: 0;
  transform: translateY(var(--va-translate, 16px));
  transition: 
    opacity var(--va-duration, 600ms) var(--va-easing, ease-out) var(--va-delay, 0ms),
    transform var(--va-duration, 600ms) var(--va-easing, ease-out) var(--va-delay, 0ms);
  will-change: opacity, transform;
}

.intersection-fade-in {
  opacity: 0;
  transform: translateY(var(--va-translate, 10px));
  transition: 
    opacity var(--va-duration, 600ms) var(--va-easing, ease-out) var(--va-delay, 0ms),
    transform var(--va-duration, 600ms) var(--va-easing, ease-out) var(--va-delay, 0ms);
  will-change: opacity, transform;
}

.intersection-zoom {
  opacity: 0;
  transform: scale(var(--va-scale, 0.9));
  transition: 
    opacity var(--va-duration, 600ms) var(--va-easing, ease-out) var(--va-delay, 0ms),
    transform var(--va-duration, 600ms) var(--va-easing, ease-out) var(--va-delay, 0ms);
  will-change: opacity, transform;
}

.intersection-draw {
  opacity: 0;
  stroke-dasharray: 1000;
  stroke-dashoffset: 1000;
  transition: 
    opacity var(--va-duration, 600ms) var(--va-easing, ease-out) var(--va-delay, 0ms),
    stroke-dashoffset var(--va-duration, 600ms) var(--va-easing, ease-out) var(--va-delay, 0ms);
  will-change: opacity, stroke-dashoffset;
}

/* Stagger container for child animations */
.intersection-stagger-container > * {
  opacity: 0;
  transform: translateY(var(--va-translate, 20px));
  transition: 
    opacity var(--va-duration, 600ms) var(--va-easing, ease-out) var(--va-delay, 0ms),
    transform var(--va-duration, 600ms) var(--va-easing, ease-out) var(--va-delay, 0ms);
  will-change: opacity, transform;
}

/* In-view states - when element is visible */
.intersection-slide-up.va-in-view {
  opacity: 1;
  transform: translateY(0);
}

.intersection-fade-in.va-in-view {
  opacity: 1;
  transform: translateY(0);
}

.intersection-zoom.va-in-view {
  opacity: 1;
  transform: scale(1);
}

.intersection-draw.va-in-view {
  opacity: 1;
  stroke-dashoffset: 0;
}

/* Stagger container children in-view state */
.intersection-stagger-container > *.va-in-view {
  opacity: 1;
  transform: translateY(0);
}

/* Button-specific animation with slight scale */
button.intersection-slide-up.va-in-view,
.btn.intersection-slide-up.va-in-view,
a[role="button"].intersection-slide-up.va-in-view {
  transform: translateY(0) scale(1.02);
}

/* Reduced motion overrides */
@media (prefers-reduced-motion: reduce) {
  .intersection-slide-up,
  .intersection-fade-in,
  .intersection-zoom,
  .intersection-draw,
  .intersection-stagger-container > * {
    opacity: 1;
    transform: none;
    transition: none;
  }

  /* View Transitions API support */
  @supports (view-transition-name: *) {
    /* Default transition duration and easing */
    :root {
      --view-transition-duration: 300ms;
      --view-transition-easing: ease-out;
    }

    /* Elements with data-view-transition attribute */
    [data-view-transition] {
      view-transition-name: var(--view-transition-name, auto);
    }

    /* View transition pseudo-elements */
    ::view-transition-old(*),
    ::view-transition-new(*) {
      animation-duration: var(--view-transition-duration, 300ms);
      animation-timing-function: var(--view-transition-easing, ease-out);
    }

    /* Disable view transitions for reduced motion */
    @media (prefers-reduced-motion: reduce) {
      ::view-transition-old(*),
      ::view-transition-new(*) {
        animation: none !important;
        transition: none !important;
      }
    }
  }
}